{
  "server": {
    "port": 5000,
    "host": "0.0.0.0",
    "cors": {
      "origin": ["https://imanage-uploader.com", "https://www.imanage-uploader.com"],
      "credentials": true
    }
  },
  "database": {
    "url": "${DATABASE_URL}",
    "ssl": {
      "rejectUnauthorized": true
    },
    "pool": {
      "min": 10,
      "max": 50
    }
  },
  "redis": {
    "url": "${REDIS_URL}",
    "keyPrefix": "imanage:prod:",
    "ttl": 3600
  },
  "session": {
    "secret": "${SESSION_SECRET}",
    "name": "imanage.sid",
    "cookie": {
      "secure": true,
      "httpOnly": true,
      "maxAge": 86400000,
      "sameSite": "strict"
    }
  },
  "upload": {
    "maxFileSize": 52428800,
    "allowedMimeTypes": [
      "application/pdf",
      "application/msword",
      "application/vnd.openxmlformats-officedocument.wordprocessingml.document",
      "application/vnd.ms-excel",
      "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
      "text/plain",
      "text/csv"
    ],
    "uploadTimeout": 300000,
    "tempDir": "/app/uploads/temp",
    "storageDir": "/app/uploads/files"
  },
  "imanage": {
    "serverUrl": "${IMANAGE_SERVER_URL}",
    "clientId": "${IMANAGE_CLIENT_ID}",
    "clientSecret": "${IMANAGE_CLIENT_SECRET}",
    "apiVersion": "v1",
    "timeout": 30000,
    "retryAttempts": 5,
    "retryDelay": 3000
  },
  "logging": {
    "level": "warn",
    "format": "json",
    "file": {
      "enabled": true,
      "filename": "/app/logs/production.log",
      "maxSize": "100m",
      "maxFiles": "30d"
    },
    "console": {
      "enabled": false,
      "colorize": false
    }
  },
  "security": {
    "rateLimiting": {
      "enabled": true,
      "windowMs": 900000,
      "max": 500
    },
    "helmet": {
      "enabled": true,
      "contentSecurityPolicy": {
        "directives": {
          "defaultSrc": ["'self'"],
          "styleSrc": ["'self'", "'unsafe-inline'"],
          "scriptSrc": ["'self'"],
          "imgSrc": ["'self'", "data:", "https:"],
          "connectSrc": ["'self'"],
          "fontSrc": ["'self'", "https:", "data:"],
          "objectSrc": ["'none'"],
          "mediaSrc": ["'self'"],
          "frameSrc": ["'none'"]
        }
      },
      "hsts": {
        "maxAge": 31536000,
        "includeSubDomains": true,
        "preload": true
      }
    }
  },
  "monitoring": {
    "healthCheck": {
      "enabled": true,
      "path": "/api/health"
    },
    "metrics": {
      "enabled": true,
      "path": "/api/metrics"
    }
  }
}
